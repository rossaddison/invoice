<div class="family-commalist-picker">
  <div class="picker-header mb-3">
    <h5 class="mb-2">
      <i class="bi bi-list-ol"></i> 
      Select Numbers (1-200)
    </h5>
    <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
      <div class="selected-info">
        <span class="badge bg-primary me-2">
          {{ selectedCount }} selected
        </span>
        <span class="text-muted small">{{ pageInfo }}</span>
      </div>
      
      <div class="btn-group btn-group-sm" role="group">
        <button 
          type="button" 
          class="btn btn-outline-success" 
          (click)="selectPage()"
          title="Select all numbers on current page">
          <i class="bi bi-check-square"></i> Page
        </button>
        <button 
          type="button" 
          class="btn btn-outline-warning" 
          (click)="deselectPage()"
          title="Deselect all numbers on current page">
          <i class="bi bi-square"></i> Page
        </button>
        <button 
          type="button" 
          class="btn btn-outline-danger" 
          (click)="clearAll()"
          title="Clear all selections">
          <i class="bi bi-trash"></i> Clear
        </button>
      </div>
    </div>
  </div>

  <!-- Quick Range Selection -->
  <div class="quick-ranges mb-3">
    <small class="text-muted d-block mb-2">Quick ranges:</small>
    <div class="btn-group btn-group-sm flex-wrap" role="group">
      <button 
        type="button" 
        class="btn btn-outline-secondary btn-sm" 
        (click)="selectRange(1, 10)"
        title="Select 1-10">
        1-10
      </button>
      <button 
        type="button" 
        class="btn btn-outline-secondary btn-sm" 
        (click)="selectRange(11, 25)"
        title="Select 11-25">
        11-25
      </button>
      <button 
        type="button" 
        class="btn btn-outline-secondary btn-sm" 
        (click)="selectRange(26, 50)"
        title="Select 26-50">
        26-50
      </button>
      <button 
        type="button" 
        class="btn btn-outline-secondary btn-sm" 
        (click)="selectRange(51, 100)"
        title="Select 51-100">
        51-100
      </button>
      <button 
        type="button" 
        class="btn btn-outline-secondary btn-sm" 
        (click)="selectRange(101, 150)"
        title="Select 101-150">
        101-150
      </button>
      <button 
        type="button" 
        class="btn btn-outline-secondary btn-sm" 
        (click)="selectRange(151, 200)"
        title="Select 151-200">
        151-200
      </button>
    </div>
  </div>

  <!-- Number Grid -->
  <div class="numbers-grid mb-3">
    <div class="number-buttons">
      <button
        *ngFor="let num of paginatedNumbers"
        type="button"
        class="btn number-btn"
        [class.btn-success]="isSelected(num)"
        [class.btn-outline-secondary]="!isSelected(num)"
        (click)="toggleNumber(num)"
        [title]="'Toggle number ' + num">
        {{ num }}
      </button>
    </div>
  </div>

  <!-- Pagination -->
  <div class="pagination-controls d-flex justify-content-between align-items-center">
    <button 
      type="button" 
      class="btn btn-outline-primary btn-sm" 
      (click)="prevPage()" 
      [disabled]="currentPage === 1">
      <i class="bi bi-chevron-left"></i> Previous
    </button>
    
    <div class="page-buttons">
      <button
        *ngFor="let page of [1, 2, 3, 4]"
        type="button"
        class="btn btn-sm me-1"
        [class.btn-primary]="page === currentPage"
        [class.btn-outline-primary]="page !== currentPage"
        (click)="goToPage(page)">
        {{ page }}
      </button>
    </div>
    
    <button 
      type="button" 
      class="btn btn-outline-primary btn-sm" 
      (click)="nextPage()" 
      [disabled]="currentPage === totalPages">
      Next <i class="bi bi-chevron-right"></i>
    </button>
  </div>

  <!-- Selected Numbers Preview -->
  <div class="selected-preview mt-3" *ngIf="selectedCount > 0">
    <small class="text-muted d-block mb-1">Selected numbers:</small>
    <div class="selected-numbers-display">
      <span class="text-muted small">{{ selectedNumbersArray.join(', ') }}</span>
    </div>
  </div>
</div>